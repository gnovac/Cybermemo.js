"use strict";function _createForOfIteratorHelper(e,t){var r,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var games=["Detroit: Become Human","The Ascent","Shadowrun Returns","Cyberpunk 2077","Ghostrunner","Deus Ex","Ruiner","Observer","Detroit: Become Human","The Ascent","Shadowrun Returns","Cyberpunk 2077","Ghostrunner","Deus Ex","Ruiner","Observer"],movies=["Blade Runner","The Matrix","RoboCop","Altered Carbon","The Fifth Element","Ghost In The Shell","Total Recall","Black Mirror","Blade Runner","The Matrix","RoboCop","Altered Carbon","The Fifth Element","Ghost In The Shell","Total Recall","Black Mirror"],series=["Neuromancer","The Book of Strange New Things","When Gravity Fails","Data Runner","Slant","Van","The Windup Girl","Snow Crash","Neuromancer","The Book of Strange New Things","When Gravity Fails","Data Runner","Slant","Van","The Windup Girl","Snow Crash"],startModal=document.querySelector(".start-modal"),selectDeckBox=document.querySelector(".start-modal__select-box"),playBtn=document.querySelector(".start-modal__play-btn"),selectedDeck=document.querySelector(".selected"),moves=document.querySelector(".moves-display"),timer=document.querySelector(".time-display"),stars=document.querySelectorAll(".fa-star"),resetBtn=document.querySelector(".game-panel__reset-btn"),cards=document.getElementsByClassName("deck__card"),cardsArr=_toConsumableArray(cards),deck=document.querySelector(".deck"),matchedCards=document.getElementsByClassName("matched"),openedCards=document.getElementsByClassName("open"),scoreBox=document.querySelector(".score-panel__score-box"),bestTimesList=document.querySelector(".score-panel__scores-display"),winModal=document.querySelector(".win-modal"),winModalScore=document.querySelector(".win-modal__score"),winModalStars=document.querySelector(".win-modal__stars"),winModalYesBtn=document.querySelector(".win-modal__yes-btn"),winModalNoBtn=document.querySelector(".win-modal__no-btn"),openedCardsArr=[],results=[],timeCounter=0,countTime=null,movesCounter=0,starCounter=0,storageAvailable=!1,deckItems=games,selectDeck=function(e){e.target.classList.contains("start-modal__deck-cat")&&(selectedDeck.classList.remove("selected"),(selectedDeck=e.target).classList.add("selected")),e.target.classList.contains("games")&&(deckItems=games),e.target.classList.contains("movies")&&(deckItems=movies),e.target.classList.contains("series")&&(deckItems=series)},addTimes=function(){results.push(timeCounter),results.sort(function(e,t){return e-t}),localStorage.setItem("times",JSON.stringify(results))},showHighTimes=function(){var e=null!=(e=JSON.parse(localStorage.getItem("times")))?e:[];bestTimesList.innerHTML=e.map(function(e){return"<li>".concat(e," sec</li>")}).slice(0,5).join("")},shuffle=function(e){for(var t=e.length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[r],e[r]=a}return e},loadDeck=function(){shuffle(deckItems);for(var e=0;e<cardsArr.length;e++)cardsArr[e].innerHTML=deckItems[e]},startTimer=function(){timeCounter++,timer.textContent=timeCounter},incrementMoves=function(){movesCounter++,moves.textContent=movesCounter,decrementStars()},decrementStars=function(){16===movesCounter?(stars[2].classList.remove("fas"),stars[2].classList.add("far"),starCounter--):24===movesCounter&&(stars[1].classList.remove("fas"),stars[1].classList.add("far"),starCounter--)},disableCards=function(){Array.prototype.filter.call(cards,function(e){e.classList.add("disabled")})},enableCards=function(){Array.prototype.filter.call(cards,function(e){e.classList.remove("disabled");for(var t=0;t<matchedCards.length;t++)matchedCards[t].classList.add("disabled")})},startGame=function(e){if(e.target.classList.contains("deck__card")&&!e.target.classList.contains("open")&&!e.target.classList.contains("matched")&&(e.target.classList.add("open"),e.target.classList.add("show"),openedCardsArr.push(e.target),2===openedCardsArr.length))if(incrementMoves(),openedCardsArr[0].innerHTML===openedCardsArr[1].innerHTML){var t,r=_createForOfIteratorHelper(openedCardsArr);try{for(r.s();!(t=r.n()).done;)t.value.classList.add("matched")}catch(e){r.e(e)}finally{r.f()}matchedCards.length===cardsArr.length&&(console.log("you won"),completeGame()),openedCardsArr=[]}else disableCards(),setTimeout(function(){var e,t=_createForOfIteratorHelper(openedCardsArr);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.classList.remove("open"),r.classList.remove("show")}}catch(e){t.e(e)}finally{t.f()}enableCards(),openedCardsArr=[]},1500);countTime=countTime||setInterval(startTimer,1e3)},resetGame=function(){for(;openedCards.length;)openedCards[0].classList.remove("open","show","matched");openedCardsArr=[],movesCounter=0,moves.textContent=movesCounter,clearInterval(countTime),countTime=null,timeCounter=0,timer.textContent=timeCounter;for(var e=0;e<stars.length;e++)stars[e].classList.remove("far"),stars[e].classList.add("fas");resetBtn.classList.remove("disabled"),startModal.classList.add("show-start-modal"),winModal.classList.remove("show-win-modal"),scoreBox.classList.remove("show")},completeGame=function(){clearInterval(countTime),addTimes(),showHighTimes(),winModal.classList.add("show-win-modal"),winModalScore.textContent="".concat(timeCounter," seconds & ").concat(movesCounter," moves.");for(var e=0;e<stars.length;e++){var t=stars[e].cloneNode(!0);winModalStars.appendChild(t)}resetBtn.classList.add("disabled")},closeStartModal=function(){startModal.classList.remove("show-start-modal"),loadDeck(),scoreBox.classList.add("show"),showHighTimes(),winModalStars.innerHTML=""},closeWinModal=function(){winModal.classList.remove("show-win-modal"),resetBtn.classList.remove("disabled")};selectDeckBox.addEventListener("click",selectDeck),playBtn.addEventListener("click",closeStartModal),deck.addEventListener("click",startGame),resetBtn.addEventListener("click",resetGame),winModalYesBtn.addEventListener("click",resetGame),winModalNoBtn.addEventListener("click",closeWinModal);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJnYW1lcyIsIm1vdmllcyIsInNlcmllcyIsInN0YXJ0TW9kYWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3REZWNrQm94IiwicGxheUJ0biIsInNlbGVjdGVkRGVjayIsInRpbWVyIiwiY2FyZHNBcnIiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJjYXJkcyIsInN0YXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJvcGVuZWRDYXJkcyIsInNjb3JlQm94IiwiZGVjayIsIndpbk1vZGFsU2NvcmUiLCJiZXN0VGltZXNMaXN0Iiwid2luTW9kYWxOb0J0biIsIndpbk1vZGFsU3RhcnMiLCJ3aW5Nb2RhbFllc0J0biIsIm9wZW5lZENhcmRzQXJyIiwicmVzdWx0cyIsInRpbWVDb3VudGVyIiwiY291bnRUaW1lIiwic3RvcmFnZUF2YWlsYWJsZSIsImUiLCJkZWNrSXRlbXMiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsInRhcmdldCIsInNlbGVjdERlY2siLCJwdXNoIiwic29ydCIsImEiLCJiIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXRyaWV2ZWRUaW1lcyIsIl9KU09OJHBhcnNlIiwicGFyc2UiLCJnZXRJdGVtIiwiaW5uZXJIVE1MIiwibWFwIiwidGltZSIsInNsaWNlIiwiam9pbiIsInNodWZmbGUiLCJhcnJheSIsImxlbmd0aCIsImkiLCJNYXRoIiwidGVtcCIsImoiLCJsb2FkRGVjayIsInN0YXJ0VGltZXIiLCJpbmNyZW1lbnRNb3ZlcyIsIm1vdmVzQ291bnRlciIsIm1vdmVzIiwidGV4dENvbnRlbnQiLCJkZWNyZW1lbnRTdGFycyIsImFkZCIsInN0YXJDb3VudGVyIiwiZmlsdGVyIiwiY2FsbCIsImNhcmQiLCJlbmFibGVDYXJkcyIsIkFycmF5IiwicHJvdG90eXBlIiwiZGlzYWJsZUNhcmRzIiwibWF0Y2hlZENhcmRzIiwic3RhcnRHYW1lIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInZhbHVlIiwiZXJyIiwiZiIsImNvbXBsZXRlR2FtZSIsInNldFRpbWVvdXQiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwicyIsIm4iLCJkb25lIiwic2V0SW50ZXJ2YWwiLCJyZXNldEdhbWUiLCJjbGVhckludGVydmFsIiwicmVzZXRCdG4iLCJjb25jYXQiLCJzdGFyc0NvcHkiLCJjbG9uZU5vZGUiLCJjbG9zZVN0YXJ0TW9kYWwiLCJhZGRUaW1lcyIsIndpbk1vZGFsIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VXaW5Nb2RhbCJdLCJtYXBwaW5ncyI6ImdxREFDQSxJQUFJQSxNQUFRLENBQUMsd0JBQXdCLGFBQWEsb0JBQW9CLGlCQUFpQixjQUFjLFVBQVUsU0FBUyxXQUFXLHdCQUF3QixhQUFhLG9CQUFvQixpQkFBaUIsY0FBYyxVQUFVLFNBQVMsWUFHMU9DLE9BQVMsQ0FBQyxlQUFlLGFBQWEsVUFBVSxpQkFBaUIsb0JBQW9CLHFCQUFxQixlQUFlLGVBQWUsZUFBZSxhQUFhLFVBQVUsaUJBQWlCLG9CQUFvQixxQkFBcUIsZUFBZSxnQkFHdlBDLE9BQVMsQ0FBQyxjQUFjLGlDQUFpQyxxQkFBcUIsY0FBYyxRQUFRLE1BQU0sa0JBQWtCLGFBQWEsY0FBYyxpQ0FBaUMscUJBQXFCLGNBQWMsUUFBUSxNQUFNLGtCQUFrQixjQUl6UEMsV0FBYUMsU0FBU0MsY0FBYyxnQkFDcENDLGNBQWdCRixTQUFTQyxjQUFjLDRCQUN2Q0UsUUFBVUgsU0FBU0MsY0FBYywwQkFidkNHLGFBQUFKLFNBQUFDLGNBQUEsYUFPSUgsTUFBVUUsU0FBQUMsY0FBYyxrQkFhdEJJLE1BQVFMLFNBQVNDLGNBQWMsaUJBVC9CRixNQUFVQyxTQUFHQSxpQkFBdUIsWUFDcENFLFNBQWFGLFNBQUdBLGNBQVNDLDBCQUkzQkcsTUFBQUEsU0FBZUosdUJBQXVCLGNBVXRDTSxTQUFR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Z29yaWVzXHJcbmxldCBnYW1lcyA9IFtcIkRldHJvaXQ6IEJlY29tZSBIdW1hblwiLFwiVGhlIEFzY2VudFwiLFwiU2hhZG93cnVuIFJldHVybnNcIixcIkN5YmVycHVuayAyMDc3XCIsXCJHaG9zdHJ1bm5lclwiLFwiRGV1cyBFeFwiLFwiUnVpbmVyXCIsXCJPYnNlcnZlclwiLFwiRGV0cm9pdDogQmVjb21lIEh1bWFuXCIsXCJUaGUgQXNjZW50XCIsXCJTaGFkb3dydW4gUmV0dXJuc1wiLFwiQ3liZXJwdW5rIDIwNzdcIixcIkdob3N0cnVubmVyXCIsXCJEZXVzIEV4XCIsXCJSdWluZXJcIixcIk9ic2VydmVyXCIsXHJcbl07XHJcblxyXG5sZXQgbW92aWVzID0gW1wiQmxhZGUgUnVubmVyXCIsXCJUaGUgTWF0cml4XCIsXCJSb2JvQ29wXCIsXCJBbHRlcmVkIENhcmJvblwiLFwiVGhlIEZpZnRoIEVsZW1lbnRcIixcIkdob3N0IEluIFRoZSBTaGVsbFwiLFwiVG90YWwgUmVjYWxsXCIsXCJCbGFjayBNaXJyb3JcIixcIkJsYWRlIFJ1bm5lclwiLFwiVGhlIE1hdHJpeFwiLFwiUm9ib0NvcFwiLFwiQWx0ZXJlZCBDYXJib25cIixcIlRoZSBGaWZ0aCBFbGVtZW50XCIsXCJHaG9zdCBJbiBUaGUgU2hlbGxcIixcIlRvdGFsIFJlY2FsbFwiLFwiQmxhY2sgTWlycm9yXCIsXHJcbl07XHJcblxyXG5sZXQgc2VyaWVzID0gW1wiTmV1cm9tYW5jZXJcIixcIlRoZSBCb29rIG9mIFN0cmFuZ2UgTmV3IFRoaW5nc1wiLFwiV2hlbiBHcmF2aXR5IEZhaWxzXCIsXCJEYXRhIFJ1bm5lclwiLFwiU2xhbnRcIixcIlZhblwiLFwiVGhlIFdpbmR1cCBHaXJsXCIsXCJTbm93IENyYXNoXCIsXCJOZXVyb21hbmNlclwiLFwiVGhlIEJvb2sgb2YgU3RyYW5nZSBOZXcgVGhpbmdzXCIsXCJXaGVuIEdyYXZpdHkgRmFpbHNcIixcIkRhdGEgUnVubmVyXCIsXCJTbGFudFwiLFwiVmFuXCIsXCJUaGUgV2luZHVwIEdpcmxcIixcIlNub3cgQ3Jhc2hcIixcclxuXTtcclxuXHJcbi8vQGRlc2NyaXB0aW9uIEdhbWUgU3RhcnQgTW9kYWxcclxuY29uc3Qgc3RhcnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnQtbW9kYWxcIik7XHJcbmNvbnN0IHNlbGVjdERlY2tCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXJ0LW1vZGFsX19zZWxlY3QtYm94XCIpO1xyXG5jb25zdCBwbGF5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdGFydC1tb2RhbF9fcGxheS1idG5cIik7XHJcblxyXG4vL0BkZXNjcmlwdGlvbiBEZWNrIFNlbGVjdGlvblxyXG5sZXQgc2VsZWN0ZWREZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWxlY3RlZFwiKTtcclxuXHJcbi8vQGRlc2NyaXB0aW9uIEluZm8gUGFuZWxcclxuY29uc3QgbW92ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vdmVzLWRpc3BsYXlcIik7XHJcbmNvbnN0IHRpbWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aW1lLWRpc3BsYXlcIik7XHJcbmNvbnN0IHN0YXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mYS1zdGFyXCIpO1xyXG5jb25zdCByZXNldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1wYW5lbF9fcmVzZXQtYnRuXCIpO1xyXG5cclxuLy9AZGVzY3JpcHRpb24gQWxsIENhcmRzXHJcbmxldCBjYXJkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkZWNrX19jYXJkXCIpO1xyXG5sZXQgY2FyZHNBcnIgPSBbLi4uY2FyZHNdO1xyXG5cclxuLy9AZGVzY3JpcHRpb24gRGVja1xyXG5jb25zdCBkZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZWNrXCIpO1xyXG5cclxuLy9AZGVzY3JpcHRpb24gTWF0Y2hlZCAmIG9wZW5lZCBjYXJkc1xyXG5sZXQgbWF0Y2hlZENhcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1hdGNoZWRcIik7XHJcbmxldCBvcGVuZWRDYXJkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJvcGVuXCIpO1xyXG5cclxuLy9AZGVzY3JpcHRpb24gQmVzdCBTY29yZVxyXG5jb25zdCBzY29yZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmUtcGFuZWxfX3Njb3JlLWJveFwiKTtcclxuY29uc3QgYmVzdFRpbWVzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmUtcGFuZWxfX3Njb3Jlcy1kaXNwbGF5XCIpO1xyXG5cclxuLy9AZGVzY3JpcHRpb24gR2FtZSBDb21wbGV0ZWQgTW9kYWxcclxuY29uc3Qgd2luTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1tb2RhbFwiKTtcclxuY29uc3Qgd2luTW9kYWxTY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLW1vZGFsX19zY29yZVwiKTtcclxuY29uc3Qgd2luTW9kYWxTdGFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLW1vZGFsX19zdGFyc1wiKTtcclxuY29uc3Qgd2luTW9kYWxZZXNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbi1tb2RhbF9feWVzLWJ0blwiKTtcclxuY29uc3Qgd2luTW9kYWxOb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luLW1vZGFsX19uby1idG5cIik7XHJcblxyXG5sZXQgb3BlbmVkQ2FyZHNBcnIgPSBbXTtcclxubGV0IHJlc3VsdHMgPSBbXTtcclxubGV0IHRpbWVDb3VudGVyID0gMDtcclxubGV0IGNvdW50VGltZSA9IG51bGw7XHJcbmxldCBtb3Zlc0NvdW50ZXIgPSAwO1xyXG5sZXQgc3RhckNvdW50ZXIgPSAwO1xyXG5sZXQgc3RvcmFnZUF2YWlsYWJsZSA9IGZhbHNlO1xyXG5sZXQgZGVja0l0ZW1zID0gZ2FtZXM7IC8vZGVmYXVsdCBkZWNrIGNhdGVnb3J5XHJcblxyXG4vL0BkZXNjcmlwdGlvbiBTZWxlY3QgRGVjayBDYXRlZ29yeSBpbiBTdGFydCBNb2RhbFxyXG5jb25zdCBzZWxlY3REZWNrID0gKGUpID0+IHtcclxuICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3RhcnQtbW9kYWxfX2RlY2stY2F0XCIpKSB7XHJcbiAgICBzZWxlY3RlZERlY2suY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG4gICAgc2VsZWN0ZWREZWNrID0gZS50YXJnZXQ7XHJcbiAgICBzZWxlY3RlZERlY2suY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbWVzXCIpKSB7XHJcbiAgICBkZWNrSXRlbXMgPSBnYW1lcztcclxuICB9XHJcbiAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vdmllc1wiKSkge1xyXG4gICAgZGVja0l0ZW1zID0gbW92aWVzO1xyXG4gIH1cclxuICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2VyaWVzXCIpKSB7XHJcbiAgICBkZWNrSXRlbXMgPSBzZXJpZXM7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEBkZXNjcmlwdGlvbiBTZXQgdGltZXMgdG8gbG9jYWxTdG9yYWdlXHJcbmNvbnN0IGFkZFRpbWVzID0gKCkgPT4ge1xyXG4gIHJlc3VsdHMucHVzaCh0aW1lQ291bnRlcik7XHJcbiAgcmVzdWx0cy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0aW1lc1wiLCBKU09OLnN0cmluZ2lmeShyZXN1bHRzKSk7XHJcbn07XHJcbiAgXHJcbi8vIEBkZXNjcmlwdGlvbiBHZXQgNSBiZXN0IHRpbWVzIGZyb20gbG9jYWxTdG9yYWdlXHJcbmNvbnN0IHNob3dIaWdoVGltZXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCByZXRyaWV2ZWRUaW1lcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RpbWVzJykpID8/IFtdO1xyXG4gICAgYmVzdFRpbWVzTGlzdC5pbm5lckhUTUwgPSByZXRyaWV2ZWRUaW1lcy5tYXAoXHJcbiAgICAgICh0aW1lKSA9PiBgPGxpPiR7dGltZX0gc2VjPC9saT5gXHJcbiAgICApLnNsaWNlKDAsIDUpLmpvaW4oXCJcIik7XHJcbn07XHJcblxyXG5cclxuLy9AZGVzY3JpcHRpb24gRmlzaGVyIFlhdGVzIEFsZ29yaXRobSB0byBzaHVmZmxlIGFycmF5IG9mIGNhcmRzXHJcbmNvbnN0IHNodWZmbGUgPSAoYXJyYXkpID0+IHtcclxuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG4gICAgY29uc3QgdGVtcCA9IGFycmF5W2ldO1xyXG4gICAgYXJyYXlbaV0gPSBhcnJheVtqXTtcclxuICAgIGFycmF5W2pdID0gdGVtcDtcclxuICB9XHJcbiAgcmV0dXJuIGFycmF5O1xyXG59O1xyXG5cclxuLy9AZGVzY3JpcHRpb24gU2h1ZmZsZSAmIGxvYWQgY2hvb3NlbiBhcnJheSB0byBkZWNrXHJcbmNvbnN0IGxvYWREZWNrID0gKCkgPT4ge1xyXG4gIHNodWZmbGUoZGVja0l0ZW1zKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjYXJkc0FycltpXS5pbm5lckhUTUwgPSBkZWNrSXRlbXNbaV07XHJcbiAgfVxyXG59O1xyXG5cclxuLy9AZGVzY3JpcHRpb24gR2FtZSB0aW1lclxyXG5jb25zdCBzdGFydFRpbWVyID0gKCkgPT4ge1xyXG4gIHRpbWVDb3VudGVyKys7XHJcbiAgdGltZXIudGV4dENvbnRlbnQgPSB0aW1lQ291bnRlcjtcclxufTtcclxuXHJcbi8vQGRlc2NyaXB0aW9uIEdhbWUgbW92ZXNcclxuY29uc3QgaW5jcmVtZW50TW92ZXMgPSAoKSA9PiB7XHJcbiAgbW92ZXNDb3VudGVyKys7XHJcbiAgbW92ZXMudGV4dENvbnRlbnQgPSBtb3Zlc0NvdW50ZXI7XHJcbiAgZGVjcmVtZW50U3RhcnMoKTtcclxufTtcclxuXHJcbi8vQGRlc2NyaXB0aW9uIEdhbWUgc3RhcnNcclxuY29uc3QgZGVjcmVtZW50U3RhcnMgPSAoKSA9PiB7XHJcbiAgaWYgKG1vdmVzQ291bnRlciA9PT0gMTYpIHtcclxuICAgIHN0YXJzWzJdLmNsYXNzTGlzdC5yZW1vdmUoXCJmYXNcIik7XHJcbiAgICBzdGFyc1syXS5jbGFzc0xpc3QuYWRkKFwiZmFyXCIpO1xyXG4gICAgc3RhckNvdW50ZXItLTtcclxuICB9IGVsc2UgaWYgKG1vdmVzQ291bnRlciA9PT0gMjQpIHtcclxuICAgIHN0YXJzWzFdLmNsYXNzTGlzdC5yZW1vdmUoXCJmYXNcIik7XHJcbiAgICBzdGFyc1sxXS5jbGFzc0xpc3QuYWRkKFwiZmFyXCIpO1xyXG4gICAgc3RhckNvdW50ZXItLTtcclxuICB9XHJcbn07XHJcblxyXG4vL0BkZXNjcmlwdGlvbiBEaXNhYmxlIGNsaWNrIGV2ZW50IG9uIGFsbCBjYXJkc1xyXG5jb25zdCBkaXNhYmxlQ2FyZHMgPSAoKSA9PiB7XHJcbiAgQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGNhcmRzLCAoY2FyZCkgPT4ge1xyXG4gICAgY2FyZC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vL0BkZXNjcmlwdGlvbiBEaXNhYmxlIGNsaWNrIGV2ZW50IG9uIG1hdGNoZWQgY2FyZHMgYW5kIGVuYWJsZSBvbiB0aGUgcmVzdFxyXG5jb25zdCBlbmFibGVDYXJkcyA9ICgpID0+IHtcclxuICBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoY2FyZHMsIChjYXJkKSA9PiB7XHJcbiAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hlZENhcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIG1hdGNoZWRDYXJkc1tpXS5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydEdhbWUgPSAoZSkgPT4ge1xyXG4gIGlmIChcclxuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImRlY2tfX2NhcmRcIikgJiZcclxuICAgICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJvcGVuXCIpICYmXHJcbiAgICAhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWF0Y2hlZFwiKVxyXG4gICkge1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgIG9wZW5lZENhcmRzQXJyLnB1c2goZS50YXJnZXQpO1xyXG5cclxuICAgIGlmIChvcGVuZWRDYXJkc0Fyci5sZW5ndGggPT09IDIpIHtcclxuICAgICAgaW5jcmVtZW50TW92ZXMoKTtcclxuXHJcbiAgICAgIC8vQGRlc2NyaXB0aW9uIFdoZW4gY2FyZHMgbWF0Y2hlZFxyXG4gICAgICBpZiAob3BlbmVkQ2FyZHNBcnJbMF0uaW5uZXJIVE1MID09PSBvcGVuZWRDYXJkc0FyclsxXS5pbm5lckhUTUwpIHtcclxuICAgICAgICBmb3IgKGxldCBjYXJkIG9mIG9wZW5lZENhcmRzQXJyKSB7XHJcbiAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoXCJtYXRjaGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1hdGNoZWRDYXJkcy5sZW5ndGggPT09IGNhcmRzQXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJ5b3Ugd29uXCIpO1xyXG4gICAgICAgICAgY29tcGxldGVHYW1lKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcGVuZWRDYXJkc0FyciA9IFtdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vQGRlc2NyaXB0aW9uIFdoZW4gY2FyZHMgZG9uJ3QgbWF0Y2hlZFxyXG4gICAgICAgIGRpc2FibGVDYXJkcygpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgZm9yIChsZXQgY2FyZCBvZiBvcGVuZWRDYXJkc0Fycikge1xyXG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZW5hYmxlQ2FyZHMoKTtcclxuICAgICAgICAgIG9wZW5lZENhcmRzQXJyID0gW107XHJcbiAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEBkZXNjcmlwdGlvbiAxc2VrIGludGVydmFsIGZvciBnYW1lIHRpbWVyIGZ1bmN0aW9uXHJcbiAgaWYgKCFjb3VudFRpbWUpIHtcclxuICAgIGNvdW50VGltZSA9IHNldEludGVydmFsKHN0YXJ0VGltZXIsIDEwMDApO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0R2FtZSA9ICgpID0+IHtcclxuICAvLzEuIFJFU0VUIERFQ0tcclxuICAvLyBAZGVzY3JpcHRpb24gUmVtb3ZlIGNsYXNzZXMgZnJvbSBjbGlja2VkIGNhcmRzICYgY2xlYXIgb3BlbmVkQ2FyZHMgQXJyYXkgaW4gY2FzZSBpZiBpcyBtaWRkbGUgb2YgdGhlIGdhbWVcclxuICB3aGlsZSAob3BlbmVkQ2FyZHMubGVuZ3RoKSB7XHJcbiAgICBvcGVuZWRDYXJkc1swXS5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiLCBcInNob3dcIiwgXCJtYXRjaGVkXCIpO1xyXG4gIH1cclxuICBvcGVuZWRDYXJkc0FyciA9IFtdO1xyXG5cclxuICAvLzIuIFJFU0VUIEdBTUUgUEFORUwgSU5GT1xyXG4gIC8vIEBkZXNjcmlwdGlvbiBTZXQgZ2FtZSBtb3ZlcyB0byAwXHJcbiAgbW92ZXNDb3VudGVyID0gMDtcclxuICBtb3Zlcy50ZXh0Q29udGVudCA9IG1vdmVzQ291bnRlcjtcclxuXHJcbiAgLy8gQGRlc2NyaXB0aW9uIFNldCBnYW1lIHRpbWVyIHRvIDBcclxuICBjbGVhckludGVydmFsKGNvdW50VGltZSk7XHJcbiAgY291bnRUaW1lID0gbnVsbDtcclxuICB0aW1lQ291bnRlciA9IDA7XHJcbiAgdGltZXIudGV4dENvbnRlbnQgPSB0aW1lQ291bnRlcjtcclxuXHJcbiAgLy8gQGRlc2NyaXB0aW9uIFJlc2V0IHN0YXJzXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgc3RhcnNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImZhclwiKTtcclxuICAgIHN0YXJzW2ldLmNsYXNzTGlzdC5hZGQoXCJmYXNcIik7XHJcbiAgfVxyXG5cclxuICAvLyBAZGVzY3JpcHRpb24gIEVuYWJsZSBjbGljayBldmVudCBvbiByZXNldCBidXR0b24gaWYgaXMgZGlzYWJsZWRcclxuICByZXNldEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gIC8vIDQuIFNIT1cvSElERSBET00gRUxFTUVOVFNcclxuICAvL0BkZXNjcmlwdGlvbiAgT3BlbiBzdGFydCBtb2RhbCB3aW5kb3dcclxuICBzdGFydE1vZGFsLmNsYXNzTGlzdC5hZGQoXCJzaG93LXN0YXJ0LW1vZGFsXCIpO1xyXG5cclxuICAvLyBAZGVzY3JpcHRpb24gIENsb3NlIHdpbmQgbW9kYWwgaWYgb3BlblxyXG4gIHdpbk1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXdpbi1tb2RhbFwiKTtcclxuXHJcbiAgLy8gQGRlc2NyaXB0aW9uICBIaWRlIHNjb3JlcyBsaXN0XHJcbiAgc2NvcmVCb3guY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XHJcbn07XHJcblxyXG5jb25zdCBjb21wbGV0ZUdhbWUgPSAoKSA9PiB7XHJcbiAgLy8gQGRlc2NyaXB0aW9uIFN0b3BzIHRpbWVyXHJcbiAgY2xlYXJJbnRlcnZhbChjb3VudFRpbWUpO1xyXG5cclxuICAvLyBAZGVzY3JpcHRpb24gQ2FsbCBsb2NhbFN0b3JhZ2UgZnVuY3Rpb25zXHJcbiAgYWRkVGltZXMoKTtcclxuICBzaG93SGlnaFRpbWVzKCk7XHJcblxyXG4gIC8vIEAgZGVzY3JpcHRpb24gT3BlbiBDb25ncmF0dWxhdGlvbnMgV2luZG93XHJcbiAgd2luTW9kYWwuY2xhc3NMaXN0LmFkZChcInNob3ctd2luLW1vZGFsXCIpO1xyXG5cclxuICAvLyBAZGVzY3JpcHRpb24gU2hvd3MgdGltZSBhbmQgbW92ZXMgaW4gbW9kYWxcclxuICB3aW5Nb2RhbFNjb3JlLnRleHRDb250ZW50ID0gYCR7dGltZUNvdW50ZXJ9IHNlY29uZHMgJiAke21vdmVzQ291bnRlcn0gbW92ZXMuYDtcclxuXHJcbiAgLy8gQGRlc2NyaXB0aW9uIENvcHkgc3RhcnMgcmF0aW5nIHRvIG1vZGFsXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IHN0YXJzQ29weSA9IHN0YXJzW2ldLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHdpbk1vZGFsU3RhcnMuYXBwZW5kQ2hpbGQoc3RhcnNDb3B5KTtcclxuICB9XHJcbiAgLy8gQGRpc2NyaXB0aW9uIERpc2FibGUgcmVzZXQgYnV0dG9uIHdoaWxlIGNvbmdyYXR1bGF0aW9ucyB3aW5kb3cgaXMgZGlzcGxhaW5nXHJcbiAgcmVzZXRCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlU3RhcnRNb2RhbCA9ICgpID0+IHtcclxuICBzdGFydE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXN0YXJ0LW1vZGFsXCIpO1xyXG4gIGxvYWREZWNrKCk7XHJcblxyXG4gIC8vIEBkZXNjcmlwdGlvbiBTaG93IHNjb3JlcyBsaXN0XHJcbiAgc2NvcmVCb3guY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcblxyXG4gIC8vIEBkZXNjcmlwdGlvbiBMb2FkIHNjb3JlcyBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gIHNob3dIaWdoVGltZXMoKTtcclxuXHJcbiAgLy8gQGRlc2NyaXB0aW9uIENsZWFyIHN0YXJzIGZyb20gY29uZ3JhdHVsYXRpb25zIHdpbmRvdyB0byBhdm9pZCBkdWJibGVcclxuICB3aW5Nb2RhbFN0YXJzLmlubmVySFRNTCA9IFwiXCI7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZVdpbk1vZGFsID0gKCkgPT4ge1xyXG4gIHdpbk1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LXdpbi1tb2RhbFwiKTtcclxuICByZXNldEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIik7XHJcbn07XHJcblxyXG4vLyAtLS0tRXZlbnQgTGlzdGVuZXJzLS0tLSAvL1xyXG5zZWxlY3REZWNrQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZWxlY3REZWNrKTtcclxucGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTdGFydE1vZGFsKTtcclxuZGVjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3RhcnRHYW1lKTtcclxucmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlc2V0R2FtZSk7XHJcbndpbk1vZGFsWWVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXNldEdhbWUpO1xyXG53aW5Nb2RhbE5vQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVdpbk1vZGFsKTtcclxuIl19
